Name
----

Traffic_Lights


Synopsys
--------

Модуль, производящий последовательность сигналов для управления светофором.
 Управление производится командами с интерфейса cmd_type_i или в автоматическом режиме.

Для корректной работы модулю нужно тактирование с периодом тактовой частоты в 1мс.


Specification
-------------

Интерфейс модуля
Параметры:
* BLINK_HALF_PERIOD   - Длительность полупериода мигания в миллисекундах
   для режимов "зелёный мигает" и "неуправляемый переход"
* GREEN_BLINKS_NUM    - Кол-во периодов мигания в состоянии "зеленый мигает", статический
* RED_YELLOW_TIME     - Время нахождения в состоянии "красный+желтый", статический
* RED_TIME_DEFAULT    - Время нахождения в состоянии "красный" по умолчанию
* YELLOW_TIME_DEFAULT - Время нахождения в состоянии "желтый" по умолчанию
* GREEN_TIME_DEFAULT  - Время нахождения в состоянии "зеленый" по умолчанию

Входы:
* clk_i  - вход тактовой частоты, для корректной работы нужна частота 1KHz
* srst_i - входной сигнал синхронного сброса

* cmd_type_i [3]  - входные данные
* cmd_data_i [16] - вход данных для команды
* cmd_valid_i     - вход валидности принимаемых данных

Выходы:
* red_o    - красный сигнал включен
* yellow_o - желтый сигнал включен
* green_o  - зелёный сигнал включен

Команды:
* 3'd0 - включение автоматического режима модуля
* 3'd1 - выключение модуля, все выходы отключены
* 3'd2 - переход в режим "неуправляемый переход" (мигающий жёлтый)
* 3'd3 - установка времени горения красного сигнала (в мс)
* 3'd4 - установка времени горения жёлтого сигнала (в мс)
* 3'd5 - установка времени горения зелёного сигнала (в мс)


Description
-----------

После сброса модуль стартует в автоматическом режиме и переключает выходные сигналы в
 циклической последовательности "красный > красный + жёлтый > зелёный > зелёный
 мигающий > жёлтый > красный ...".

Модуль принимает команды на выключение, включение в автоматический режим и переход
 в режим "неуправляемый переход". Последний режим индицируется жёлтым мигающим сигналом.

Длительность нахождения в режимах "красный", "жёлтый" и "зелёный" может быть изменена
 с помощью соответствующих команд и передачи времени горения на вход cmd_data_i (в мс).
 При включении модуля устанавливаются значения по умолчанию.


Files
-----

* rtl/traffic_lights.sv --  Основной модуль, реализующий заявленный функционал
* tb/tb.sv              --  Тестбенч, демонстрируюший пример работы модуля
* quartus/TOP.sv        --  Тестовый модуль верхнего уровня для сборки проекта


TODO
----

* None


Notes
-----

None


Authors
-------

[GorosVi](https://github.com/GorosVi)


Copyright
---------

None

